#!/usr/bin/env python3
"""Entry point for the lint command, with install compatibility."""

from __future__ import annotations

import sys
from pathlib import Path

PYQA_ROOT = Path(__file__).resolve().parent
SRC_DIR = PYQA_ROOT / "src"
if str(SRC_DIR) not in sys.path:
    sys.path.insert(0, str(SRC_DIR))

from pyqa.cli._cli_launcher import launch


def main() -> None:
    """Launch the lint command or its install shim."""

    args = sys.argv[1:]
    if "--install" in args:
        filtered = [arg for arg in args if arg != "--install"]
        launch("install", filtered)
    else:
        launch("lint", args)


if __name__ == "__main__":
    main()
